function drag(a){a.onmousedown=function(d){d=d||event;var c=d.clientX-a.offsetLeft,b=d.clientY-a.offsetTop;if(a.setCapture){a.setCapture()}document.onmousemove=function(e){e=e||event;a.style.top=e.clientY-b+"px";a.style.left=e.clientX-c+"px"};document.onmouseup=function(){document.onmousemove=document.onmouseup=null;if(a.releaseCapture){a.releaseCapture()}};return false}}window.onload=function(){var a=$("#drag");drag(a);var b=$("#img1");drag(b);$test=$("#test");$test.onclick=function(){return false}};