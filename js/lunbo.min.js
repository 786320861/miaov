$(function(){var o=$("#div1"),n=o.getElementsByTagName("p")[0],l=o.getElementsByTagName("img")[0],q=o.getElementsByTagName("ul")[0],r=q.getElementsByTagName("li"),p=0,d=$("#prev"),f=$("#next"),c=null;var h=["../img/1.jpg","../img/2.jpg","../img/3.jpg","../img/4.jpg"],m=h.length;for(var k=0;k<m;k++){q.innerHTML+="<li></li>"}r[0].setAttribute("class","active");function a(){l.src=h[p];l.index=p;n.innerHTML=p+1+"/"+m;for(var j=0;j<m;j++){r[j].className=""}r[p].className="active"}a();for(var g=0;g<r.length;g++){r[g].index=g;r[g].onclick=function(){p=parseInt(this.index,10);a()};r[g].onmouseover=function(){clearInterval(c)};r[g].onmouseout=function(){b()}}d.onclick=function(){p--;if(p<0){p=m-1}a()};function e(){p++;p%=m;a()}f.onclick=function(){e()};function b(){c=setInterval(function(){e()},3000)}b();l.onmouseover=function(){clearInterval(c)};l.onmouseout=function(){b()}});